@model List<FinalElectron.Models.Product>

@{
    ViewBag.Title = "Index";
}

    <div class="col-lg-9" id="specials">
        <div id="breadcrumb">
            <div class="icon">
                <a href="#">
                    <i class="fa fa-home"></i>
                </a>
                <i class="fas fa-chevron-right"></i>
            </div>
            <a href="#">Special Offers</a>
        </div>
        <div id="navbar">
            <div class="row">
                <div class="col-lg-2">
                    <div class="images">
                        <ul>
                            <li>
                                <div class="image">
                                    <img src="~/Public/img/view-list.png" alt="list wiew">
                                </div>
                            </li>
                            <li>
                                <div class="image">
                                    <img src="~/Public/img/view-grid.png" alt="view-grid">
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="compare">
                        <a href="#">Product Compare(0)</a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="sort">
                        <h2>Sort By: </h2>
                        <select class="form-control">
                            <option selected>Default</option>
                            <option>Default select</option>
                            <option>Default select</option>
                            <option>Default select</option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="show">
                        <h2>Show: </h2>
                        <select class="form-control">
                            <option selected>7</option>
                            <option>9</option>
                            <option>25</option>
                            <option>49</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div id="products">
            <div class="row">


                @foreach (var item in Model)
                {
                    <div class="item col-lg-3 col-md-4 col-sm-6 col-xs-12">
                        <div class="product">
                            <a href="@Url.Action("Index","Detail" ,new { id=item.ProductOptions.FirstOrDefault().Id})">
                                <div class="image">
                                    <img src="~/Uploads/@item.ProductImages.FirstOrDefault().Name" alt="phone">
                                </div>
                                @if (item.HoverImage != null)
                                {
                                    <div class="overlay">
                                        <img src="~/Uploads/@item.HoverImage" alt="hover image">
                                    </div>
                                }

                                @if (item.ProductOptions.FirstOrDefault().Quantity > 0)
                                {
                                    <div class="forSale">
                                        <span>SALE</span>
                                    </div>
                                }
                            </a>

                            <div class="choose">
                                <ul>
                                    <li>
                                        <div class="addCardBtn" data-id="@item.ProductOptions.FirstOrDefault().Id"><i class="fas fa-shopping-cart"></i></div>
                                    </li>
                                    <li>
                                        <div class="addWishBtn" data-id="@item.ProductOptions.FirstOrDefault().Id"><i class="far fa-heart"></i></div>
                                    </li>
                                    <li>
                                        <div class="addCompareBtn" data-id="@item.ProductOptions.FirstOrDefault().Id"><i class="far fa-chart-bar"></i></div>
                                    </li>
                                </ul>
                            </div>
                            <div class="content">
                                <a href="@Url.Action("Index","Detail" ,new { id=item.ProductOptions.FirstOrDefault().Id})" style="text-decoration:none">
                                    <h4>@item.Model.Name @item.Name</h4>
                                </a>
                                <h5>$ @item.ProductOptions.FirstOrDefault().Price.ToString("#.00")<span>@(item.ProductOptions.FirstOrDefault().OldPrice!=0?("$ "+ item.ProductOptions.FirstOrDefault().OldPrice.ToString("#.00")):"")</span></h5>
                                <div class="stars">
                                    <ul>
                                        @if (item.Reviews.Count > 0)
                                        {
                                            for (int i = 0; i < 5; i++)
                                            {
                                                <li><i class="fa fa-star @( (item.Reviews.Sum(p=> p.Star)/item.Reviews.Count)<=i? "sade":"") "></i></li>

                                            }
                                        }
                                        else
                                        {
                                            <li> <i class="fa fa-star sade"></i> </li>
                                            <li> <i class="fa fa-star sade"></i> </li>
                                            <li> <i class="fa fa-star sade"></i> </li>
                                            <li> <i class="fa fa-star sade"></i> </li>
                                            <li> <i class="fa fa-star sade"></i> </li>
                                        }
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>



                }
            </div>
        </div>
    </div>
